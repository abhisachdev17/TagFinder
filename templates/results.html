{% extends "base.html" %}

{% block content %}
<h1 class="title">
  Software Engineering Assignment
</h1>
<h2 class="subtitle">
  Top Voted
</h2>
<div class='list'> 
  {% for post in voted %}

  <ul> 
      <div class='list-item'> 
          <li> 
            <button type="button" class="collapsible"> <b>Title:</b> {{ post['title'] }} <b>Created:</b> {{ post['creation_date'] }} <b>Votes:</b> {{ post['score'] }} </button>
            <div class="content"> {{ post['title'] }} </div>
          </li> 
      </div> 
  </ul>
  {% endfor %}
</div>

<h2 class="subtitle">
  Newly Created
</h2>
<div class='list'> 
  {% for post in created %}

  <ul> 
      <div class='list-item'> 
          <li> 
            <button type="button" class="collapsible"> <b>Title:</b> {{ post['title'] }} <b>Created:</b> {{ post['creation_date'] }} <b>Votes:</b> {{ post['score'] }} </button>
            <div class="content"> {{ post['title'] }} </div>
          </li> 
      </div> 
  </ul>
  {% endfor %}
</div>

<h2 class="subtitle">
Merged
</h2>
<div class='list'> 
  {% for post in merged %}

  <ul> 
      <div class='list-item'> 
          <li> 
            <button type="button" class="collapsible"> <b>Title:</b> {{ post['title'] }} <b>Created:</b> {{ post['creation_date'] }} <b>Votes:</b> {{ post['score'] }} </button>
            <div class="content"> {{ post['title'] }} </div>
          </li> 
      </div> 
  </ul>
  {% endfor %}
</div>


<script>
  var coll = document.getElementsByClassName("collapsible");
  var i;
  
  for (i = 0; i < coll.length; i++) {
    coll[i].addEventListener("click", function() {
      this.classList.toggle("active");
      var content = this.nextElementSibling;
      if (content.style.display === "block") {
        content.style.display = "none";
      } else {
        content.style.display = "block";
      }
    });
  }
  </script>

{% endblock %}